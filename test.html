<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ChinBotones</title>
  <style>
    /* (aqu√≠ pon√©s todos los estilos que ya ten√≠as, sin cambios importantes) */
    body {
      font-family: Arial, sans-serif;
      background: #121212;
      margin: 10px;
      padding: 10px;
      color: #fff;
    }
    .grupo {
      margin-bottom: 12px;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0px 2px 4px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
      gap: 6px;
      position: relative;
    }
    button {
      display: block;
      width: 100%;
      margin: 5px 0;
      padding: 8px;
      font-size: 13px;
      cursor: pointer;
      border: none;
      border-radius: 4px;
      background: rgba(0,0,0,0.2);
      color: #fff;
      font-weight: bold;
      transition: 0.2s;
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .titulo {
      font-size: 18px;
      font-weight: bold;
      margin-right: 10px;
    }
    .controls {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    button:hover {
      background: rgba(0,0,0,0.4);
    }
    .flip-btn, .drag-handle {
      width: 28px;
      height: 28px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      background: #333;
      color: #fff;
      border-radius: 6px;
      font-size: 16px;
      border: none;
      margin-left: 2px;
      transition: background 0.1s;
    }
    .flip-btn:hover, .drag-handle:hover { background: #444; }
    .drag-handle:active {
      cursor: grabbing;
    }
    /* Colores personalizados seg√∫n billetera */
    .promo-amigo { background: #2ecc71; }
    .acu√±a { background: #2498db; }
    .Arellano { background: #456465; }
    .Torres { background: #751541; }
    .utilidad { background: #e67e22; }
    .mensaje-revin { background: #C93C20; }

    .input-usuario {
      width: 100%;
      margin: 4px 1cm 5px 0;
      padding: 8px;
      border-radius: 4px;
      border: none;
      font-size: 13px;
    }
    #modo-slider {
      display: flex;
      gap: 6px;
      background: #2a2a2a;
      padding: 4px;
      border-radius: 20px;
    }
    .slider-btn {
      background: #3a3a3a;
      color: #ccc;
      border: none;
      padding: 6px 16px;
      border-radius: 16px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      transition: all 0.15s ease;
      box-shadow: inset 0 0 4px rgba(0,0,0,0.4);
    }
    .slider-btn:active {
      transform: scale(0.88);
      box-shadow: inset 0 0 6px rgba(0,0,0,0.6);
    }
    .slider-btn.selected {
      background: #111;
      color: #C93C20;
      font-weight: bold;
      box-shadow: 0 0 12px rgba(201,60,32,0.5), inset 0 0 4px rgba(201,60,32,0.3);
      transform: scale(1.05);
    }
    #modo-slider .slider-btn {
      flex: 1;
    }

    /* toast */
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      padding: 12px 18px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: bold;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease, bottom 0.5s ease;
      z-index: 9999;
    }
    .toast.show {
      opacity: 1;
      bottom: 40px;
    }

    /* historial */
    #historial-box {
      margin-top: 15px;
      background: #34495e;
      color: #fff;
      padding: 10px;
      border-radius: 8px;
      font-size: 13px;
    }
    #historial-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-weight: bold;
    }
    #historial-arrow {
      transition: transform 0.3s ease;
      display: inline-block;
      font-size: 14px;
    }
    #historial-content {
      margin-top: 8px;
      display: none;
      background: rgba(255,255,255,0.1);
      padding: 8px;
      border-radius: 4px;
    }
    #historial-text {
      display: block;
      font-size: 12px;
      margin-bottom: 6px;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    #historial-copy {
      background: rgba(0,0,0,0.4);
      border: none;
      color: #fff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
    }
    #historial-copy:hover {
      background: rgba(0,0,0,0.6);
    }

    /* Banco panel */
    #banco-toggle {
      position: fixed;
      top: 100px;
      left: 0;
      background: #C93C20;
      color: #fff;
      font-weight: bold;
      border-radius: 0 8px 8px 0;
      padding: 12px 18px 12px 12px;
      cursor: pointer;
      box-shadow: 2px 2px 8px #0004;
      z-index: 10001;
      transition: left 0.3s;
      opacity: 0.95;
    }
    #banco-toggle.open {
      left: 220px;
      transition: left 0.3s;
    }
    #banco-panel {
      position: fixed;
      top: 80px;
      left: -220px;
      width: 220px;
      background: #222;
      color: #fff;
      border-radius: 0 12x 12px 0;
      box-shadow: 4px 0px 16px #0003;
      padding: 18px 16px;
      z-index: 10000;
      transition: left 0.3s;
      min-height: 120px;
      opacity: 0.98;
    }
    #banco-panel.open {
      left: 0;
      transition: left 0.3s;
    }
  </style>
</head>
<body>

  <!-- Grupo Info √ötil -->
  <div class="grupo utilidad">
    <h3>Utilidad</h3>
    <button onclick="copiarYAnimar(event, '‚ú® SOMOS BET300VIP ‚ú®\n\nDisfrut√° de una PLATAF0RMA confiable con + de 2000 jueg0s 0nline üéÆ\n\nüì≤ ¬øListo para disfrutar al m√°ximo? üöÄ\n\nPara a√±adir saldo, lo haces mediante CBU. üßæ\n‚ÄºÔ∏è RECORDAR SIEMPRE CONSULTARLO ANTES DE ENVIAR, YA QUE VAMOS CAMBIANDO LAS CUENTAS, DE LO CONTRARIO NO SE EFECTUAR√Å LA C4RGA. ‚ÄºÔ∏è\nüì© Envianos el comprobante y empez√° a jugar. üöÄ\n\nüìç C4RG4 M√çNIMA: $2000\nüìç RET1R0 M√çNIMO: $5000\nSin Monto Maximo!!\nUn retiro cada 24hs exactas!\n\nüïê Atenci√≥n personalizada las 24hs los 365 dias del a√±o!!!!')">Info</button>

    <button onclick="copiarYAnimar(event, '‚úÖ ¬°Saldo acreditado!\nTu cuenta ya est√° lista para girar y ganar üé∞\nüçÄ ¬°√âxitos en cada tirada!\nSi no ves doble tilde, Encontra nuestro numero de WhatsApp siempre actualizado o el chat en:\nüîó https://300vip-c01.vercel.app\nüé∞ Record√° que el chat de la plataforma est√° funcionando!\nüí∞ Beneficio de 2 retiros cada 24 hs cargando desde ah√≠!')">Cargado</button>

    <button onclick="copiarYAnimar(event, '‚úÖ Para hacer el retiro, mandanos estos datos\nüîπCBU, No Alias(para evitar equivocaciones)\nüîπMonto a retirar\nüîπNombre Del Titular de la cuenta\nMuchas Gracias! üëå')">Retiro</button>
  </div>

  <!-- Grupo Arellano -->
  <div class="grupo Arellano" draggable="false">
    <div class="header">
      <div class="titulo">Arellano</div>
      <div class="controls">
        <button type="button" class="flip-btn">üîÑ</button>
        <button type="button" class="drag-handle">‚ò∞</button>
      </div>
    </div>
    <div class="wallets-container">
      <div class="wallets-card">
        <div class="wallets-face front">
          <button onclick="copiarYAnimar(event, '0000003100090162487340')">CBU Mercado Pago</button>
          <button onclick="copiarYAnimar(event, 'arellano.333.mp \n edgardo damian arellano *Mercado Pago*')">Alias Mercado Pago</button>
        </div>
        <div class="wallets-face back">
          <button onclick="copiarYAnimar(event, '0000076500000023104989')">CBU PPay</button>
          <button onclick="copiarYAnimar(event, 'arellano.300pp \n edgardo damian arellano *PPay*')">Alias PPay</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Grupo Torres -->
  <div class="grupo Torres" draggable="false">
    <div class="header">
      <div class="titulo">Torres</div>
      <div class="controls">
        <button type="button" class="flip-btn">üîÑ</button>
        <button type="button" class="drag-handle">‚ò∞</button>
      </div>
    </div>
    <div class="wallets-container">
      <div class="wallets-card">
        <div class="wallets-face front">
          <button onclick="copiarYAnimar(event, '0000003100074067202002')">CBU Mercado Pago</button>
          <button onclick="copiarYAnimar(event, 'dylanto.01.mp \nTitular dylan enzo torres *Mercado Pago*')">Alias Mercado Pago</button>
        </div>
        <div class="wallets-face back">
          <button onclick="copiarYAnimar(event, '0000147800000061495931')">CBU Rip</button>
          <button onclick="copiarYAnimar(event, 'CANEZ.RIBAS.RIPIO \nTitular dylan enzo torres *Ripio*')">Alias Rip</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Grupo Acu√±a -->
  <div class="grupo acu√±a" draggable="false">
    <div class="header">
      <div class="titulo">Acu√±a</div>
      <div class="controls">
        <button type="button" class="drag-handle">‚ò∞</button>
      </div>
    </div>
    <div class="wallets-container">
      <div class="wallets-card">
        <div class="wallets-face front">
          <button onclick="copiarYAnimar(event, '0000003100099477012498')">CBU Mercado Pago</button>
          <button onclick="copiarYAnimar(event, 'acuna.03.mp \nTitular Cristian Ariel *Mercado Pago*')">Alias Mercado Pago</button>
        </div>
        <div class="wallets-face back">
          <button onclick="copiarYAnimar(event, 'No tiene, no se que tocas')">CBU PPay</button>
          <button onclick="copiarYAnimar(event, 'te ilusionaste no?')">Alias PPay</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Grupo Promo Amigo -->
  <div class="grupo promo-amigo">
    <h3>Promo Amigo</h3>
    <button onclick="copiarYAnimar(event, 'üéâ PROMO AMIGOS üéâ\n\nüí• Invit√° a tus amigos y gan√° fichas extra al instante.\nüëâ Por cada amigo que cargue la m√≠nima, vos recib√≠s **$2.000 en fichas de regalo**.\n\nüìå Ped√≠ tu C√ìDIGO AMIGO y compartilo.\nM√°s amigos = m√°s fichas ü§ëüé∞\n\nüîó https://300vip-c01.vercel.app/')">Promo amigo</button>
    <button onclick="copiarYAnimar(event, '‚ÑπÔ∏è ¬øC√≥mo funciona la Promo Amigos?\n\n1Ô∏è‚É£ Ped√≠ tu **C√ìDIGO AMIGO**.\n2Ô∏è‚É£ Compartilo con tus conocidos.\n3Ô∏è‚É£ Cuando tu invitado haga su **primera carga m√≠nima de $2.000**, debe enviar tu c√≥digo.\n4Ô∏è‚É£ Una vez acreditada, vos recib√≠s **$2.000 en fichas para jugar**.\n\n‚úÖ No hay l√≠mite de invitados: ¬°cuantos m√°s sumes, m√°s gan√°s!\n‚ö†Ô∏è Solo v√°lido para usuarios nuevos que nunca hayan cargado antes.')">Info promo amigo</button>
  </div>

  <!-- Mensaje Revin / Saludos din√°micos -->
  <div class="grupo mensaje-revin">
    <h3 style="display:flex; justify-content:space-between; align-items:center;">
      Mensaje Revin
      <div id="modo-slider">
        <button class="slider-btn" id="slider-ruleta">Ruleta</button>
        <button class="slider-btn" id="slider-mix">Mix</button>
        <button class="slider-btn" id="slider-memo">Memo</button>
        <button class="slider-btn" id="slider-box">Box</button>
      </div>
    </h3>
    <input type="text" id="usuarioInput" class="input-usuario" placeholder="Escrib√≠ el usuario...">
    <div style="display:flex; gap:6px; margin-top:6px; flex-wrap:wrap;">
      <button style="flex:1;" onclick="copiarSaludo(event)">Copiar saludo</button>
      <button style="flex:1; background:#27ae60;" onclick="copiarSoloWsp(event)">Copiar WhatsApp</button>
      <button style="flex:1; background:#e67e22;" onclick="copiarCodigoAmigo(event)">C√≥digo Amigo</button>
    </div>
  </div>

  <!-- Historial -->
  <div id="historial-box">
    <div id="historial-header">
      üìù √öltimo copiado <span id="historial-arrow">‚åÑ</span>
    </div>
    <div id="historial-content">
      <span id="historial-text">Nada copiado a√∫n...</span>
      <button id="historial-copy">Copy</button>
    </div>
  </div>

  <!-- Panel Banco -->
  <div id="banco-toggle">Banco</div>
  <div id="banco-panel">
    <h3 style="margin-top:0;">Panel Banco</h3>
    <button onclick="copiarYAnimar(event, '365.ofi.mp')">ALIAS CHIGUAY</button>
  </div>

  <!-- Importar el archivo de saludos personalizado -->
  <script src="saludosCH01.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <script>
    // ===== Animaci√≥n bot√≥n =====
    function animateButton(button) {
      if (!button) return;
      button.style.transform = "scale(0.95)";
      setTimeout(() => button.style.transform = "", 150);
    }

    // ===== Slider saludos =====
    let modoSlider = 0;  // 0: Ruleta, 1: Mix, 2: Memo, 3: Box
    function actualizarSlider() {
      document.querySelectorAll('.slider-btn').forEach((btn, idx) => {
        btn.classList.toggle('selected', idx === modoSlider);
      });
    }
    document.getElementById('slider-ruleta').onclick = () => { modoSlider = 0; actualizarSlider(); };
    document.getElementById('slider-mix').onclick    = () => { modoSlider = 1; actualizarSlider(); };
    document.getElementById('slider-memo').onclick   = () => { modoSlider = 2; actualizarSlider(); };
    document.getElementById('slider-box').onclick    = () => { modoSlider = 3; actualizarSlider(); };
    actualizarSlider();

    // ===== Copiar saludo din√°mico =====
    function copiarSaludo(event) {
      const usuario = document.getElementById("usuarioInput").value.trim();
      if (!usuario) {
        alert("‚ö†Ô∏è Escrib√≠ un usuario primero!");
        return;
      }
      const saludosArr = window.SALUDOS_CH01 || [];  // desde saludosCH01.js
      if (!saludosArr.length) {
        alert("No hay saludos cargados.");
        return;
      }

      // Filtrar seg√∫n modoSlider
      let filtrados;
      switch (modoSlider) {
        case 0:  // Ruleta
          filtrados = saludosArr.filter(s => s.toLowerCase().includes('ruleta-bet300'));
          break;
        case 2:  // Memo
          filtrados = saludosArr.filter(s => s.toLowerCase().includes('memoplay'));
          break;
        case 3:  // Box
          filtrados = saludosArr.filter(s => s.toLowerCase().includes('mistery-box-one'));
          break;
        case 1:  // Mix (todos)
        default:
          filtrados = saludosArr;
          break;
      }

      if (!filtrados.length) {
        alert("No hay saludos cargados para este modo.");
        return;
      }

      const idx = Math.floor(Math.random() * filtrados.length);
      let mensaje = filtrados[idx]
        .replaceAll("{usuario}", usuario)
        .replaceAll("{usuarioENC}", encodeURIComponent(usuario));

      copyText(mensaje);
      animateButton(event?.target);
    }

    // ===== Copiar WhatsApp simple =====
    function copiarSoloWsp(event) {
      const usuario = document.getElementById("usuarioInput").value.trim();
      if (!usuario) {
        alert("‚ö†Ô∏è Escrib√≠ un usuario primero!");
        return;
      }
      const enlace = `https://wa.me/5491138601132?text=Hola%20soy%20${encodeURIComponent(usuario)}%20quiero%20mi%20clave%20y%20cronograma`;
      copyText(enlace);
      animateButton(event?.target);
    }

    // ===== Copiar c√≥digo amigo =====
    function copiarCodigoAmigo(event) {
      const usuario = document.getElementById("usuarioInput").value.trim();
      if (!usuario) {
        alert("‚ö†Ô∏è Escrib√≠ un usuario primero!");
        return;
      }
      const mensaje = `TU CODIGO AMIGO\nR${usuario}\n\nRecord√° que el recomendado lo tiene que enviar al final de la carga\nCon solo enviarle el enlace ya tienen el WhatsApp y el chat!\nhttps://300vip-c01.vercel.app/`;
      copyText(mensaje);
      animateButton(event?.target);
    }

    // ===== Historial + Toast =====
    let lastCopied = "";
    let historialVisible = false;
    const histHeader = document.getElementById("historial-header");
    const histArrow = document.getElementById("historial-arrow");
    const histContent = document.getElementById("historial-content");
    const histText = document.getElementById("historial-text");
    const histCopyBtn = document.getElementById("historial-copy");

    histHeader.onclick = () => {
      historialVisible = !historialVisible;
      histContent.style.display = historialVisible ? "block" : "none";
      histArrow.style.transform = historialVisible ? "rotate(180deg)" : "rotate(0deg)";
    };
    histCopyBtn.onclick = () => { if (lastCopied) copyText(lastCopied); };

    function addHistorial(txt) {
      lastCopied = txt;
      histText.textContent = txt;
      histContent.style.display = "block";
      histArrow.style.transform = "rotate(180deg)";
      historialVisible = true;
    }

    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = "‚úÖ Copiado: " + message;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 2000);
    }

    function fallbackCopy(txt) {
      const temp = document.createElement("textarea");
      temp.value = txt;
      document.body.appendChild(temp);
      temp.select();
      document.execCommand("copy");
      document.body.removeChild(temp);
      showToast("Texto");
    }

    function copyText(txt) {
      let tipo = "Texto";
      const txtLower = txt.toLowerCase();
      if (txtLower.includes("mistery-box-one")) tipo = "Mistery Box";
      else if (txtLower.includes("ruleta-bet300")) tipo = "Ruleta";
      else if (txtLower.includes("memoplay")) tipo = "Memo";
      // tambi√©n pod√©s extender para alias, CBUs, etc.
      else if (txtLower.includes("arellano.333.mp")) tipo = "Alias Arellano MP";
      else if (txtLower.includes("0000003100090162487340")) tipo = "CBU Arellano MP";
      else if (txtLower.includes("dylanto.01.mp")) tipo = "Alias Torres MP";
      else if (txtLower.includes("0000003100074067202002")) tipo = "CBU Torres MP";
      else if (txtLower.includes("acuna.03.mp")) tipo = "Alias Acu√±a MP";
      else if (txtLower.includes("0000003100099477012498")) tipo = "CBU Acu√±a MP";
      else if (txtLower.includes("365.ofi.mp")) tipo = "Alias Banco Chiguay";
      else if (txtLower.includes("somos bet300vip")) tipo = "Info";
      else if (txtLower.includes("¬°saldo acreditado!")) tipo = "Cargado";
      else if (txtLower.includes("para hacer el retiro")) tipo = "Retiro";
      else if (txtLower.includes("cronograma")) tipo = "Enlace Wsp";
      else if (txtLower.includes("fichas extra al instante")) tipo = "Promo Amigos";
      else if (txtLower.includes("recomendado lo tiene que enviar")) tipo = "Info Promo Amigos";
      else if (txtLower.includes("con solo enviarle el enlace ya tienen el whatsapp")) tipo = "C√≥digo amigo";

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(txt)
          .then(() => { showToast(tipo); })
          .catch(() => fallbackCopy(txt));
      } else {
        fallbackCopy(txt);
      }
      addHistorial(txt);
    }

    // ===== Banco panel toggling =====
    const bancoToggle = document.getElementById("banco-toggle");
    const bancoPanel = document.getElementById("banco-panel");

    function cerrarBancoPanel() {
      bancoPanel.classList.remove("open");
      bancoToggle.classList.remove("open");
    }
    bancoToggle.onclick = function(e) {
      e.stopPropagation();
      if (bancoPanel.classList.contains("open")) {
        cerrarBancoPanel();
      } else {
        bancoPanel.classList.add("open");
        bancoToggle.classList.add("open");
      }
    };
    document.addEventListener("click", function(e) {
      if (bancoPanel.classList.contains("open")
          && !bancoPanel.contains(e.target)
          && !bancoToggle.contains(e.target)) {
        cerrarBancoPanel();
      }
    });
    document.addEventListener("keydown", function(e) {
      if (e.key === "Escape") cerrarBancoPanel();
    });

    // ===== Flip cards =====
    document.querySelectorAll(".grupo").forEach(grupo => {
      const flipBtn = grupo.querySelector(".flip-btn");
      const card = grupo.querySelector(".wallets-card");
      if (flipBtn && card) {
        flipBtn.addEventListener("click", () => {
          card.classList.toggle("flipped");
        });
      }
    });

    // ===== Drag & Drop (SortableJS) =====
    new Sortable(document.body, {
      handle: ".drag-handle",
      animation: 150,
      draggable: ".grupo"
    });

    // (la funci√≥n copiarYAnimar ya la definimos arriba, no hace falta repetir)
  </script>
</body>
</html>
