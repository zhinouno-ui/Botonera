<!DOCTYPE html>
<!-- saved from url=(0042)https://chinbotones.vercel.app/master.html -->
<html lang="es" style="--accent: #8A2BE2; --accent-light: #8A2BE2; --ok: #10B981; --bad: #EF4444;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>ChinMaker â€¢ Editor Unificado v5 (flip animado)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root{
      --bg:#050711; --bg-soft:#0b101d; --card:#101524; --card-soft:#141a2b;
      --accent:#8A2BE2; --accent-light:#a855f7; --ok:#10B981; --bad:#EF4444;
      --muted:#9ca3af; --text:#e5f3ff; --border:rgba(148,163,184,.25);
      --shadow:0 16px 40px rgba(0,0,0,.6); --radius:14px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      background:
        radial-gradient(circle at top left,rgba(138,43,226,0.25),transparent 55%),
        radial-gradient(circle at bottom right,rgba(16,185,129,0.18),transparent 55%),
        linear-gradient(180deg,#030712,#020617 55%,#020617 100%);
      min-height:100vh; color:var(--text); padding:18px;
    }
    .wrap{max-width:1320px;margin:0 auto;}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:16px;}
    .title-block h1{margin:0;font-size:22px;letter-spacing:.03em;background:linear-gradient(90deg,#f9fafb,var(--accent-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .title-block small{color:var(--muted);font-size:13px;}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;background:rgba(15,23,42,.75);border:1px solid rgba(148,163,184,.35);font-size:12px;color:var(--muted);box-shadow:0 6px 18px rgba(0,0,0,.45);}

    .layout{display:grid;grid-template-columns:minmax(0,1.2fr) minmax(0,1fr);gap:16px;}
    @media (max-width:980px){.layout{grid-template-columns:1fr;}}

    .card{background:radial-gradient(circle at top left,rgba(148,163,184,.08),transparent 55%),var(--card);border-radius:var(--radius);border:1px solid rgba(148,163,184,.18);box-shadow:var(--shadow);padding:14px 16px 16px;transition:transform .14s, box-shadow .14s;}
    .card:hover{transform:translateY(-4px);box-shadow:0 20px 50px rgba(0,0,0,.7);}
    .card h2{margin:0 0 8px;font-size:15px;letter-spacing:.04em;text-transform:uppercase;color:#e5e7eb;}
    .sub{margin-top:0;color:var(--muted);font-size:12px;}
    .divider-label{margin:10px 0 6px;font-size:11px;text-transform:uppercase;letter-spacing:.1em;color:var(--muted);}

    .row{display:flex;flex-wrap:wrap;gap:10px;align-items:center;}
    label{font-size:12px;color:var(--muted);margin-bottom:3px;display:block;}
    input[type=text], textarea, select, input[type=color]{
      width:100%;padding:8px 10px;border-radius:10px;border:1px solid rgba(148,163,184,.24);
      background:rgba(6,10,16,.76);color:var(--text);font-size:13px;outline:none;
      transition:border-color .16s, box-shadow .16s, transform .12s;
    }
    input[type=color]{padding:0.25rem;height:36px;cursor:pointer;background:#020617;}
    textarea{min-height:90px;resize:vertical;}
    input:focus, textarea:focus, select:focus{
      border-color:var(--accent-light);box-shadow:0 6px 20px rgba(168,85,247,.08);transform:translateY(-1px);
    }
    select{
      appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%239ca3af' viewBox='0 0 20 20'%3E%3Cpath d='M5.25 7.5 10 12.25 14.75 7.5z'/%3E%3C/svg%3E");
      background-repeat:no-repeat;background-position:right 8px center;background-size:16px;padding-right:26px;
    }

    .btn{
      border:none;border-radius:999px;padding:8px 14px;font-size:12px;font-weight:700;letter-spacing:.04em;text-transform:uppercase;
      display:inline-flex;align-items:center;gap:8px;cursor:pointer;background:linear-gradient(90deg,var(--accent),var(--accent-light));
      color:white;box-shadow:0 10px 25px rgba(88,28,135,.45);transition:transform .12s, box-shadow .12s, opacity .12s;
    }
    .btn.small{padding:6px 10px;font-size:11px;}
    .btn.ghost{background:transparent;border-radius:10px;padding:7px 11px;border:1px solid rgba(148,163,184,.28);box-shadow:none;color:var(--muted);}
    .btn.subtle{background:#111827;border-radius:9px;border:1px solid rgba(148,163,184,.12);box-shadow:none;}
    .btn:active{transform:translateY(1px) scale(.998);}
    .section-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;margin-bottom:10px;}
    .list{display:flex;flex-direction:column;gap:10px;margin-top:6px;}

    .card-row{background:var(--card-soft);border-radius:11px;border:1px solid rgba(148,163,184,.16);padding:10px;display:grid;grid-template-columns:34px minmax(0,1fr);gap:10px;align-items:flex-start;position:relative;transition:transform .12s, box-shadow .12s;}
    .card-row .grip{width:34px;height:34px;border-radius:10px;background:#1f2530;color:#fff;cursor:grab;display:flex;align-items:center;justify-content:center;border:1px solid rgba(75,85,99,.6);box-shadow:0 6px 18px rgba(0,0,0,.45);}
    .card-row.dragging{transform:translateY(-6px) scale(1.02) rotate(-0.6deg);box-shadow:0 30px 60px rgba(0,0,0,.6);opacity:.98;z-index:20;}
    .card-row.placeholder::after{content:'';position:absolute;left:8px;right:8px;height:6px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent-light));bottom:-10px;opacity:.9;transition:all .18s ease;}

    .wallet-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;}
    .wallet-label{font-size:13px;font-weight:700;}
    .wallet-actions{display:flex;gap:8px;align-items:center;}
    .muted{color:var(--muted);font-size:11px;}

    .preview-card{background:radial-gradient(circle at top,rgba(248,250,252,.04),transparent 60%),var(--bg-soft);border-radius:var(--radius);border:1px solid rgba(148,163,184,.14);padding:12px 13px;box-shadow:var(--shadow);}
    .preview-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
    .preview-tabs{display:inline-flex;background:#020617;padding:3px;border-radius:999px;border:1px solid rgba(148,163,184,.18);}
    .tab-chip{padding:6px 11px;border-radius:999px;font-size:12px;cursor:pointer;color:var(--muted);transition:all .12s;}
    .tab-chip.active{background:linear-gradient(90deg,var(--accent),var(--accent-light));color:#f9fafb;box-shadow:0 8px 30px rgba(138,43,226,.12);}

    .preview-group{margin-bottom:10px;border-radius:10px;padding:10px;background:rgba(15,23,42,.84);border:1px solid rgba(148,163,184,.08);box-shadow:inset 0 -6px 20px rgba(0,0,0,.35);}
    .preview-group h3{margin:0 0 8px;font-size:14px;display:flex;align-items:center;justify-content:space-between;}
    .chip-mini{font-size:10px;padding:3px 8px;border-radius:999px;background:rgba(15,23,42,.9);border:1px solid rgba(148,163,184,.12);color:var(--muted);}

    .wallets-face{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}

   /* Flip-card contenedor fijo */
    .flip-card{
      position:relative; width:100%; border:1px solid rgba(55,65,81,.4); border-radius:12px; overflow:hidden;
      background:#0f1724; height:160px; perspective:1200px; transition:transform .18s, box-shadow .18s;
      box-shadow:0 14px 36px rgba(0,0,0,.5);
    }
    .flip-inner{position:relative; width:100%; height:100%; transition:transform .55s cubic-bezier(.2,.9,.3,1); transform-style:preserve-3d;}
    .flip-card.flipped .flip-inner{ transform:rotateY(180deg); }
    .flip-face{position:absolute; inset:0; padding:12px; backface-visibility:hidden; display:flex; flex-direction:column; gap:10px; align-items:stretch;}
    .flip-back{ transform:rotateY(180deg); }

    .flip-toolbar{position:absolute; top:8px; right:8px; z-index:6; display:flex; gap:6px;}
    .flip-btn{border:none; border-radius:8px; padding:6px 10px; font-size:12px; background:#111827; color:#fff; cursor:pointer; border:1px solid rgba(75,85,99,.6); box-shadow:0 8px 20px rgba(0,0,0,.45);}

    .wallet-btn{width:100%;padding:10px;border:none;border-radius:10px;background:#1b2029;color:#fff;font-weight:700;cursor:pointer;border:1px solid rgba(55,65,81,.9);transition:transform .12s, box-shadow .12s;}
    .wallet-btn:hover{transform:translateY(-3px);box-shadow:0 18px 40px rgba(0,0,0,.6);}
    .btn-preview{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-radius:10px;background:linear-gradient(90deg,#0b1220,#020617);border:1px solid rgba(55,65,81,.9);cursor:pointer;font-size:13px;margin-bottom:8px;transition:transform .12s, box-shadow .12s;}
    .btn-preview:hover{transform:translateY(-4px);border-color:var(--accent-light);box-shadow:0 18px 40px rgba(138,43,226,.12);}

    .toast{position:fixed;left:50%;bottom:16px;transform:translateX(-50%) translateY(20px);padding:10px 14px;border-radius:999px;background:rgba(15,23,42,.98);border:1px solid rgba(148,163,184,.35);color:#e5e7eb;font-size:13px;display:flex;align-items:center;gap:10px;opacity:0;pointer-events:none;transition:opacity .18s, transform .18s;z-index:60;}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0);}
    .toast-icon{width:20px;height:20px;border-radius:999px;background:rgba(138,43,226,.08);display:flex;align-items:center;justify-content:center;font-size:13px;color:var(--accent-light);}

    /* tooltips simples por hover (data-tooltip) */
    [data-tooltip]{position:relative;cursor:help;}
    [data-tooltip]:hover::after{
      content:attr(data-tooltip);
      position:absolute;left:50%;transform:translateX(-50%);bottom:calc(100% + 10px);white-space:nowrap;padding:6px 9px;border-radius:8px;background:rgba(10,12,16,.94);color:var(--text);font-size:12px;border:1px solid rgba(148,163,184,.12);box-shadow:0 8px 30px rgba(0,0,0,.6);z-index:80;
    }

    /* pequeÃ±o pulso para botones importantes */
    @keyframes pulse {
      0%{ transform:scale(1); box-shadow:0 10px 25px rgba(168,85,247,.06); }
      50%{ transform:scale(1.015); box-shadow:0 20px 40px rgba(168,85,247,.10); }
      100%{ transform:scale(1); box-shadow:0 10px 25px rgba(168,85,247,.06); }
    }
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="title-block">
      <h1>ChinMaker Â· Editor Unificado v5</h1>
      <small>Flip animado en editor y vista previa. Utilidad arriba, billeteras al medio, promo + revin abajo.</small>
    </div>
    <div class="row">
      <div class="chip" data-tooltip="Estado del perfil actual: se guarda automÃ¡ticamente ğŸ“"><span style="font-size:16px">ğŸ“</span> <span id="chipStatus" style="margin-left:6px">Perfil guardado</span></div>
    </div>
  </header>

  <div class="card" style="margin-bottom:14px;">
    <div class="row" style="justify-content:space-between;align-items:flex-end;gap:12px;flex-wrap:wrap">
      <div style="min-width:220px;">
        <label>Perfil activo</label>
        <div class="row" style="gap:6px;">
          <select id="profileSelect" style="flex:1;min-width:140px;" data-tooltip="SeleccionÃ¡ el perfil."><option value="PC01">PC01</option></select>
          <button class="btn small subtle" id="btnNewProfile" data-tooltip="Crear nuevo perfil">Nuevo</button>
        </div>
        <p class="muted" style="margin-top:6px;">Ej: PC01, PC02, Gonzales, CasinoCentro...</p>
      </div>
      <div class="row" style="gap:8px;">
        <input type="file" id="fileImport" accept=".json" style="display:none;">
        <button class="btn small" id="btnExport" data-tooltip="Exportar perfil actual">Exportar perfil</button>
        <button class="btn small ghost" id="btnImport" data-tooltip="Importar desde .json">Subir perfil</button>
        <button class="btn small ghost" id="btnReset" data-tooltip="Reiniciar perfil actual">Reiniciar</button>
      </div>
    </div>
  </div>

  <div class="layout">
    <!-- EDITOR -->
    <div class="card">
      <h2>Editor de configuraciÃ³n</h2>
      <p class="sub">Se guarda en el navegador y podÃ©s exportarlo a <code>.chin.json</code>. MantÃ©n el cursor sobre los controles para ver comentarios.</p>

      <div class="section-grid">
        <div><label>Color acento</label><input type="color" id="colorAccent" value="#8A2BE2" data-tooltip="Color principal de la interfaz"></div>
        <div><label>Color OK</label><input type="color" id="colorOk" value="#10B981" data-tooltip="Color para mensajes OK"></div>
        <div><label>Color Error</label><input type="color" id="colorBad" value="#EF4444" data-tooltip="Color para mensajes de error"></div>
      </div>

      <div class="divider-label">PCs y WhatsApp</div>
      <div class="row">
        <div style="flex:1;min-width:260px;">
          <label>PCs configuradas</label>
          <div class="row">
            <button class="btn small ghost" id="pcAddBtn" data-tooltip="Agregar nueva PC">Agregar PC</button>
            <button class="btn small ghost" id="pcDelBtn" data-tooltip="Eliminar la Ãºltima PC">Eliminar Ãºltima PC</button>
            <span class="muted" id="pcCountNote">MÃ­nimo 1, mÃ¡ximo 10 (4)</span>
          </div>
          <div id="pcSlider" class="row" style="margin-top:8px;flex-wrap:wrap;"><button class="btn small ghost" style="border-color: rgba(148, 163, 184, 0.28); color: var(--muted);">PC01</button><button class="btn small ghost" style="border-color: rgba(148, 163, 184, 0.28); color: var(--muted);">PC02</button><button class="btn small ghost" style="border-color: rgba(148, 163, 184, 0.28); color: var(--muted);">PC03</button><button class="btn small ghost" style="border-color: var(--accent-light); color: rgb(229, 231, 235);">PC04</button></div>
        </div>
        <div style="flex:1;min-width:260px;">
          <label>WhatsApp de la PC seleccionada</label>
          <input type="text" id="pcWsp" placeholder="5491100000000" data-tooltip="NÃºmero WA para la PC (sin espacios) Ej: 54911...">
          <p class="muted">Al copiar WhatsApp, <code>{usuario}</code> se reemplaza por lo que escribas en la barra de vista previa.</p>
        </div>
      </div>

      <div class="divider-label">Mensajes de revinculaciÃ³n por PC</div>
      <div class="row" style="justify-content:space-between;align-items:center;margin-bottom:6px;">
        <p class="muted" style="margin:0;">UsÃ¡ <code>{usuario}</code>. Ej.: â€œHola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXXâ€.</p>
        <button class="btn small subtle" id="btnAddSaludo" data-tooltip="Agregar mensaje para la PC seleccionada">+ AÃ±adir mensaje</button>
      </div>
      <div class="list" id="saludosList"><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #1</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="0" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="0" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ”¥ Â¡Hola {usuario}!  En Bet300 nos gustarÃ­a verte de regreso.
ğŸ TenÃ©s un 30% extra en tu prÃ³xima carga por volver.
ğŸ”‘ Usuario: {usuario} â€“ Clave: 12345a
ğŸŒ https://www.bet300.biz/

ğŸ’¬ Cajero: 11-5900-9968 </textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #2</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="1" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="1" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">âœ¨ Â¿CÃ³mo va? Bet300 quiere darte la bienvenida otra vez.
ğŸ’¸ SumÃ¡ 30% adicional al cargar tu cuenta.
ğŸ‘¤ Usuario: {usuario} â€“ contraseÃ±a: 12345a
ğŸŒ https://www.bet300.biz/

ğŸ“ Soporte/cajero: 11-5900-9968</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #3</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="2" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="2" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸš€ Â¡Ey! Te esperamos en Bet300.
ğŸ’¥ Por volver, activamos +30% en tu carga.
ğŸ§© Usuario: {usuario} | Clave: 12345a
ğŸ”— https://www.bet300.biz/

ğŸ“± Cajero: 11-5900-9968</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #4</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="3" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="3" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ’« Â¡Hola! Pasamos para contarte que Bet300 tiene un beneficio para vos.
ğŸ’° RecargÃ¡ y recibÃ­ 30% extra por regresar.
ğŸ” Datos: {usuario} / 12345a
ğŸŒ https://www.bet300.biz/

â˜ï¸ Contacto cajero: 11-5900-9968</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #5</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="4" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="4" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ”¥ Â¿Todo bien? Te esperamos nuevamente en Bet300.
ğŸ‰ Por volver a jugar, te sumamos 30% mÃ¡s en tu carga.
ğŸ†” Usuario: {usuario} â€“ Clave: 12345a
ğŸ”— https://www.bet300.biz/

ğŸ“² NÂ° cajero: 11-5900-9968</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #6</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="5" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="5" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">âš¡ Â¡Saludos! Bet300 tiene un plus para tu regreso.
ğŸ’¸ Cargando hoy, obtenÃ©s +30% de regalo.
ğŸ”‘ {usuario}  / 12345a
ğŸŒ https://www.bet300.biz/

ğŸ“ Cajero disponible: 11-5900-9968</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #7</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="6" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="6" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ¯ Â¡Hola! Queremos verte de nuevo en Bet300.
ğŸ’¥ AprovechÃ¡ un 30% adicional por reiniciar tu juego.
ğŸ‘¤ Usuario: {usuario} â€“ Clave: 12345a
ğŸ”— https://www.bet300.biz/

â˜ï¸ 11-5900-9968 (cajero)</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #8</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="7" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="7" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ’ Nuevo sistema, nuevos beneficiosâ€¦
ğŸ”° Tu primer carga viene con +30% de bono exclusivo.
ğŸ“² Aprovechalo desde WhatsApp.
ğŸ” Usuario: {usuario} â€“ Clave: 12345a
ğŸŒ https://www.bet300.biz/
ğŸ“£ numero cajero: 1162360351</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #9</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="8" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="8" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ° {usuario}  Â¡VolvÃ© a jugar con ğŸŸ£+30% DE BONO ğŸŸ£!
Hace un tiempo que no estÃ¡s activo y queremos que regreses con ventaja.
ğŸ‘‰ CargÃ¡ y activÃ¡s ğŸ +30% EXTRA ğŸ
ğŸ“² Pedilo por WhatsApp: 1162360351</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #10</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="9" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="9" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ”¥ Promo de regreso disponible
ğŸŸ¢ CARGÃS + TE REGALAMOS +30% ğŸŸ¢
Ideal para volver fuerte a los slots ğŸ°
ğŸ“± Pedilo ahora {usuario} â†’ 1162360351</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #11</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="10" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="10" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ’ {usuario} tenes un beneficio activo todavia
ğŸ BONO ESPECIAL: +30% SOBRE TU CARGA ğŸ
ğŸŸ¨ Solo por volver a apostar
ğŸ“ 1162360351</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #12</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="11" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="11" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">Hola,{usuario} 
tenemos algo para vos!!
ğŸš¨ OFERTA PARA REACTIVACIÃ“N
ğŸŸ¥ +30% DE BONO en tu prÃ³xima carga
ğŸŸ© MÃ¡s jugadas â€¢ MÃ¡s saldo â€¢ MÃ¡s chances
ğŸ“² Contactanos ğŸ‘‰ 1162360351</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #13</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="12" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="12" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">{usuario} ğŸ² Te guardamos algo especial
â­ VOLVÃ‰S A JUGAR = +30% EXTRA â­
ğŸª™ Aprovechalo antes que venza
ğŸ“ WhatsApp: 1162360351 </textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #14</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="13" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="13" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ“¢ Promo exclusiva
ğŸŸ£ RECARGÃ Y SUMÃ +30% DE REGALO
ğŸ’¥ Solo para usuarios que hace tiempo no juegan
ğŸ“ Pedilo acÃ¡ â†’ 1162360351</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #15</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="14" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="14" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ° ReactivÃ¡ tu cuenta con potencia
ğŸŸ¢ +30% DE BONO EN TU PRÃ“XIMA CARGA ğŸŸ¢
ğŸ”¥ Ideal para entrar a la ruleta o slots con impulso
ğŸ“² 1162360351
</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #16</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="15" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="15" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">ğŸ’¥ VOLVISTE = GANÃS
ğŸŸ¤ BONO +30% AL CARGAR
ğŸ“² ConsultÃ¡ al instante â†’ 1162360351
ğŸ Solo por reactivaciÃ³n</textarea>
        </div>
      </div>
    </div><div class="card-row">
      <div class="grip" title="Arrastrar (deshabilitado)">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #17</span>
          <div class="wallet-actions">
            <button class="btn small subtle" data-remove-s="16" title="Eliminar">Eliminar</button>
          </div>
        </div>
        <div>
          <label>UsÃ¡ {usuario} en el texto</label>
          <textarea data-s-idx="16" placeholder="Hola {usuario}, somos BET300, renovamos nuestro nÃºmero a XXXXXXX">â³ Tu beneficio sigue activo
ğŸŸ¨ +30% EXTRA en tu prÃ³xima carga
ğŸ¯ VolvÃ© al juego con ventaja
ğŸ‘‰ WhatsApp: 1162360351
</textarea>
        </div>
      </div>
    </div></div>

      <div class="divider-label">Mensaje al copiar WhatsApp</div>
      <div class="section-grid">
        <div>
          <label>Plantilla (usa {usuario})</label>
          <textarea id="waMensaje" placeholder="Hola soy {usuario} quiero mi clave y cronograma" data-tooltip="Mensaje que irÃ¡ en el link de wa.me"></textarea>
        </div>
      </div>

      <div class="divider-label">Textos de utilidad</div>
      <div class="section-grid">
        <div>
          <label>Utilidad Â· Info</label>
          <textarea id="utilInfo" data-default="info" data-tooltip="Texto informativo general"></textarea>
        </div>
        <div>
          <label>Utilidad Â· Cargado</label>
          <textarea id="utilCargado" data-default="cargado" data-tooltip="Texto que notifica saldo acreditado"></textarea>
        </div>
        <div>
          <label>Utilidad Â· Retiro</label>
          <textarea id="utilRetiro" data-default="retiro" data-tooltip="Instrucciones para retiros"></textarea>
        </div>
      </div>

      <div class="divider-label">Billeteras</div>
      <div class="row" style="justify-content:space-between;align-items:center;margin-bottom:6px;">
        <p class="muted" style="margin:0;">ArrastrÃ¡ con el grip. Cada tarjeta es un grupo por nombre visible. Flip con animaciÃ³n (ğŸ”).</p>
        <button class="btn small subtle" id="btnAddWallet" data-tooltip="AÃ±adir nuevo grupo de billeteras">+ AÃ±adir billetera</button>
      </div>
      <div class="list" id="walletList"><div class="card-row" data-index="0">
      <div class="grip" data-grip="" title="Arrastrar (click y mover)">ğŸ”€</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Rafael olivera</span>
          <div class="wallet-actions">
            <button class="btn small ghost" data-toggle-flip="0" title="Activar/Desactivar dorso">ğŸ” OFF</button>
            <span class="muted">AÃ±ade otra billetera del mismo titular</span>
            <button class="btn small subtle" data-remove="0" title="Eliminar grupo">Eliminar</button>
          </div>
        </div>

        <div class="flip-card " data-flip-card="0">
          <div class="flip-toolbar">
            
          </div>
          <div class="flip-inner">
            <div class="flip-face">
              
      <div class="flip-title">Frente</div>
      <div class="section-grid">
        <div><label>Nombre visible</label><input type="text" data-field="label" data-idx="0" value="Rafael olivera" title="Nombre del grupo visible"></div>
        <div>
          <label>CBU</label>
          <input type="text" inputmode="numeric" pattern="\d*" maxlength="22" data-field="cbu" data-idx="0" value="0000003100040107526630">
          <small class="muted">Solo nÃºmeros, 22 dÃ­gitos</small>
        </div>
        <div><label>Alias</label><input type="text" data-field="alias" data-idx="0" value=""></div>
        <div><label>Titular</label><input type="text" data-field="titular" data-idx="0" value=""></div>
        <div>
          <label>Billetera</label>
          <select data-field="billetera" data-idx="0">
            <option value="Mercado Pago" selected="">Mercado Pago</option><option value="UalÃ¡">UalÃ¡</option><option value="Brubank">Brubank</option><option value="Banco NaciÃ³n">Banco NaciÃ³n</option><option value="Santander">Santander</option><option value="Galicia">Galicia</option><option value="BBVA">BBVA</option><option value="PPay">PPay</option><option value="Ripio">Ripio</option><option value="Prex">Prex</option><option value="Otro">Otro</option>
          </select>
          <input type="text" data-field="billeteraCustom" data-idx="0" placeholder="Nombre billetera" style="margin-top:6px;display:none" value="">
        </div>
        <div><label>Color</label><input type="color" data-field="color" data-idx="0" value="#1f6feb"></div>
      </div>
    
            </div>
            <div class="flip-face flip-back">
              
      <div class="flip-title">Dorso</div>
      <div class="section-grid">
        <div>
          <label>CBU (segunda)</label>
          <input type="text" inputmode="numeric" pattern="\d*" maxlength="22" data-field="cbu2" data-idx="0" value="">
          <small class="muted">Solo nÃºmeros, 22 dÃ­gitos</small>
        </div>
        <div><label>Alias (segunda)</label><input type="text" data-field="alias2" data-idx="0" value=""></div>
        <div><label>Titular (segunda)</label><input type="text" data-field="titular2" data-idx="0" value=""></div>
        <div>
          <label>Billetera (segunda)</label>
          <select data-field="billetera2" data-idx="0">
            <option value="Mercado Pago">Mercado Pago</option><option value="UalÃ¡">UalÃ¡</option><option value="Brubank">Brubank</option><option value="Banco NaciÃ³n">Banco NaciÃ³n</option><option value="Santander">Santander</option><option value="Galicia">Galicia</option><option value="BBVA">BBVA</option><option value="PPay">PPay</option><option value="Ripio">Ripio</option><option value="Prex" selected="">Prex</option><option value="Otro">Otro</option>
          </select>
          <input type="text" data-field="billetera2Custom" data-idx="0" placeholder="Nombre billetera" style="margin-top:6px;display:none" value="">
        </div>
        <div><label>Color (segunda)</label><input type="color" data-field="color2" data-idx="0" value="#ff6f3d"></div>
      </div>
    
            </div>
          </div>
        </div>
      </div>
    </div><div class="card-row" data-index="1">
      <div class="grip" data-grip="" title="Arrastrar (click y mover)">ğŸ”€</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Grupo / Nombre visible</span>
          <div class="wallet-actions">
            <button class="btn small ghost" data-toggle-flip="1" title="Activar/Desactivar dorso">ğŸ” OFF</button>
            <span class="muted">AÃ±ade otra billetera del mismo titular</span>
            <button class="btn small subtle" data-remove="1" title="Eliminar grupo">Eliminar</button>
          </div>
        </div>

        <div class="flip-card " data-flip-card="1">
          <div class="flip-toolbar">
            
          </div>
          <div class="flip-inner">
            <div class="flip-face">
              
      <div class="flip-title">Frente</div>
      <div class="section-grid">
        <div><label>Nombre visible</label><input type="text" data-field="label" data-idx="1" value="Grupo / Nombre visible" title="Nombre del grupo visible"></div>
        <div>
          <label>CBU</label>
          <input type="text" inputmode="numeric" pattern="\d*" maxlength="22" data-field="cbu" data-idx="1" value="">
          <small class="muted">Solo nÃºmeros, 22 dÃ­gitos</small>
        </div>
        <div><label>Alias</label><input type="text" data-field="alias" data-idx="1" value=""></div>
        <div><label>Titular</label><input type="text" data-field="titular" data-idx="1" value=""></div>
        <div>
          <label>Billetera</label>
          <select data-field="billetera" data-idx="1">
            <option value="Mercado Pago" selected="">Mercado Pago</option><option value="UalÃ¡">UalÃ¡</option><option value="Brubank">Brubank</option><option value="Banco NaciÃ³n">Banco NaciÃ³n</option><option value="Santander">Santander</option><option value="Galicia">Galicia</option><option value="BBVA">BBVA</option><option value="PPay">PPay</option><option value="Ripio">Ripio</option><option value="Prex">Prex</option><option value="Otro">Otro</option>
          </select>
          <input type="text" data-field="billeteraCustom" data-idx="1" placeholder="Nombre billetera" style="margin-top:6px;display:none" value="">
        </div>
        <div><label>Color</label><input type="color" data-field="color" data-idx="1" value="#1f6feb"></div>
      </div>
    
            </div>
            <div class="flip-face flip-back">
              
      <div class="flip-title">Dorso</div>
      <div class="section-grid">
        <div>
          <label>CBU (segunda)</label>
          <input type="text" inputmode="numeric" pattern="\d*" maxlength="22" data-field="cbu2" data-idx="1" value="">
          <small class="muted">Solo nÃºmeros, 22 dÃ­gitos</small>
        </div>
        <div><label>Alias (segunda)</label><input type="text" data-field="alias2" data-idx="1" value=""></div>
        <div><label>Titular (segunda)</label><input type="text" data-field="titular2" data-idx="1" value=""></div>
        <div>
          <label>Billetera (segunda)</label>
          <select data-field="billetera2" data-idx="1">
            <option value="Mercado Pago">Mercado Pago</option><option value="UalÃ¡">UalÃ¡</option><option value="Brubank">Brubank</option><option value="Banco NaciÃ³n">Banco NaciÃ³n</option><option value="Santander">Santander</option><option value="Galicia">Galicia</option><option value="BBVA">BBVA</option><option value="PPay">PPay</option><option value="Ripio">Ripio</option><option value="Prex" selected="">Prex</option><option value="Otro">Otro</option>
          </select>
          <input type="text" data-field="billetera2Custom" data-idx="1" placeholder="Nombre billetera" style="margin-top:6px;display:none" value="">
        </div>
        <div><label>Color (segunda)</label><input type="color" data-field="color2" data-idx="1" value="#ff6f3d"></div>
      </div>
    
            </div>
          </div>
        </div>
      </div>
    </div></div>

      <div class="divider-label">Promo amigo</div>
      <div class="section-grid">
        <div>
          <label>Texto Promo Amigos</label>
          <textarea id="promoTexto" data-tooltip="Texto que compartirÃ¡n los usuarios"></textarea>
        </div>
        <div>
          <label>Info Promo Amigos</label>
          <textarea id="promoInfo" data-tooltip="ExplicaciÃ³n de la promo"></textarea>
        </div>
        <div>
          <label>Prefijo para cÃ³digos (ej. R â†’ R1, R2...)</label>
          <input type="text" id="promoPrefix" placeholder="R" maxlength="4" data-tooltip="Prefijo que se combina con el nÃºmero de la PC. Ej: &#39;R&#39; â†’ R1 para la primera PC">
          <p class="muted">Los cÃ³digos se generan por PC aÃ±adida: prefijo + Ã­ndice de la PC (PC1 â†’ prefijo1). Si no querÃ©s 'R', ponÃ© otro carÃ¡cter.</p>
        </div>
      </div>
    </div>

    <!-- PREVIEW -->
    <div class="preview-card">
      <div class="preview-header">
        <div>
          <div class="row" style="gap:6px;align-items:center;">
            <span class="muted" style="font-size:11px;">Vista previa</span>
          </div>
          <div class="muted" style="margin-top:2px;font-size:11px;">Los botones copian texto y muestran toasts.</div>
        </div>
        <div class="preview-tabs" id="previewTabs">
          <div class="tab-chip" data-tab="utilidad" title="Utilidad">Utilidad</div>
          <div class="tab-chip" data-tab="billeteras" title="Billeteras">Billeteras</div>
          <div class="tab-chip" data-tab="promo" title="Promo amigo">Promo</div>
          <div class="tab-chip active" data-tab="revin" title="Revin por PC">Revin</div>
        </div>
      </div>

      <div class="preview-group" id="userBarBox" style="">
        <div class="row" style="justify-content:space-between;align-items:center;">
          <div style="flex:1;min-width:240px;">
            <label>Usuario para {usuario}</label>
            <input type="text" id="previewUsuario" placeholder="EscribÃ­ el usuario..." data-tooltip="El texto {usuario} se reemplazarÃ¡ por esto en las pruebas">
          </div>
          <div style="flex:1;min-width:240px;">
            <label>PC para vista previa</label>
            <div id="pcSliderPreview" class="row" style="flex-wrap:wrap;"><button class="btn small ghost" style="border-color: rgba(148, 163, 184, 0.28); color: var(--muted);">PC01</button><button class="btn small ghost" style="border-color: rgba(148, 163, 184, 0.28); color: var(--muted);">PC02</button><button class="btn small ghost" style="border-color: rgba(148, 163, 184, 0.28); color: var(--muted);">PC03</button><button class="btn small ghost" style="border-color: var(--accent-light); color: rgb(229, 231, 235);">PC04</button></div>
          </div>
        </div>
      </div>

      <div id="previewContent"><div class="preview-group"><h3>PC PC04 Â· Mensajes y WhatsApp <span class="chip-mini">17 mensajes</span></h3><div class="btn-preview"><div><span class="label">Copiar WhatsApp (PC04)</span><div class="sub">https://wa.me/5491138025419?text=Hola%20soy%20USUARIO%20quiero%20mi%20clave%20y%20cronograma</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">CÃ³digo amigo (x4)</span><div class="sub">ğŸ‰ PROMO AMIGOS ğŸ‰
ğŸ‘‰ Cada amigo que cargue la mÃ­nima te da **$2000 en fichas extra**.
ğŸ“Œ Solicit...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #1</span><div class="sub">ğŸ”¥ Â¡Hola USUARIO!  En Bet300 nos gustarÃ­a verte de regreso.
ğŸ TenÃ©s un 30% extra en tu prÃ³xima carga por volver.
ğŸ”‘ Usuario: USUARIO â€“ Clave: 12345a
ğŸŒ http...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #2</span><div class="sub">âœ¨ Â¿CÃ³mo va? Bet300 quiere darte la bienvenida otra vez.
ğŸ’¸ SumÃ¡ 30% adicional al cargar tu cuenta.
ğŸ‘¤ Usuario: USUARIO â€“ contraseÃ±a: 12345a
ğŸŒ https://www.be...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #3</span><div class="sub">ğŸš€ Â¡Ey! Te esperamos en Bet300.
ğŸ’¥ Por volver, activamos +30% en tu carga.
ğŸ§© Usuario: USUARIO | Clave: 12345a
ğŸ”— https://www.bet300.biz/

ğŸ“± Cajero: 11-5900...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #4</span><div class="sub">ğŸ’« Â¡Hola! Pasamos para contarte que Bet300 tiene un beneficio para vos.
ğŸ’° RecargÃ¡ y recibÃ­ 30% extra por regresar.
ğŸ” Datos: USUARIO / 12345a
ğŸŒ https://www...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #5</span><div class="sub">ğŸ”¥ Â¿Todo bien? Te esperamos nuevamente en Bet300.
ğŸ‰ Por volver a jugar, te sumamos 30% mÃ¡s en tu carga.
ğŸ†” Usuario: USUARIO â€“ Clave: 12345a
ğŸ”— https://www.b...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #6</span><div class="sub">âš¡ Â¡Saludos! Bet300 tiene un plus para tu regreso.
ğŸ’¸ Cargando hoy, obtenÃ©s +30% de regalo.
ğŸ”‘ USUARIO  / 12345a
ğŸŒ https://www.bet300.biz/

ğŸ“ Cajero disponi...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #7</span><div class="sub">ğŸ¯ Â¡Hola! Queremos verte de nuevo en Bet300.
ğŸ’¥ AprovechÃ¡ un 30% adicional por reiniciar tu juego.
ğŸ‘¤ Usuario: USUARIO â€“ Clave: 12345a
ğŸ”— https://www.bet300....</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #8</span><div class="sub">ğŸ’ Nuevo sistema, nuevos beneficiosâ€¦
ğŸ”° Tu primer carga viene con +30% de bono exclusivo.
ğŸ“² Aprovechalo desde WhatsApp.
ğŸ” Usuario: USUARIO â€“ Clave: 12345a
ğŸŒ https://www.bet300.biz/
ğŸ“£ numero cajero: 1162360351</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #9</span><div class="sub">ğŸ° USUARIO  Â¡VolvÃ© a jugar con ğŸŸ£+30% DE BONO ğŸŸ£!
Hace un tiempo que no estÃ¡s activo y queremos que regreses con ventaja.
ğŸ‘‰ CargÃ¡ y activÃ¡s ğŸ +30% EXTRA ğŸ...</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #10</span><div class="sub">ğŸ”¥ Promo de regreso disponible
ğŸŸ¢ CARGÃS + TE REGALAMOS +30% ğŸŸ¢
Ideal para volver fuerte a los slots ğŸ°
ğŸ“± Pedilo ahora USUARIO â†’ 1162360351</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #11</span><div class="sub">ğŸ’ USUARIO tenes un beneficio activo todavia
ğŸ BONO ESPECIAL: +30% SOBRE TU CARGA ğŸ
ğŸŸ¨ Solo por volver a apostar
ğŸ“ 1162360351</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #12</span><div class="sub">Hola,USUARIO 
tenemos algo para vos!!
ğŸš¨ OFERTA PARA REACTIVACIÃ“N
ğŸŸ¥ +30% DE BONO en tu prÃ³xima carga
ğŸŸ© MÃ¡s jugadas â€¢ MÃ¡s saldo â€¢ MÃ¡s chances
ğŸ“² Contactanos ğŸ‘‰ 1162360351</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #13</span><div class="sub">USUARIO ğŸ² Te guardamos algo especial
â­ VOLVÃ‰S A JUGAR = +30% EXTRA â­
ğŸª™ Aprovechalo antes que venza
ğŸ“ WhatsApp: 1162360351 </div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #14</span><div class="sub">ğŸ“¢ Promo exclusiva
ğŸŸ£ RECARGÃ Y SUMÃ +30% DE REGALO
ğŸ’¥ Solo para usuarios que hace tiempo no juegan
ğŸ“ Pedilo acÃ¡ â†’ 1162360351</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #15</span><div class="sub">ğŸ° ReactivÃ¡ tu cuenta con potencia
ğŸŸ¢ +30% DE BONO EN TU PRÃ“XIMA CARGA ğŸŸ¢
ğŸ”¥ Ideal para entrar a la ruleta o slots con impulso
ğŸ“² 1162360351
</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #16</span><div class="sub">ğŸ’¥ VOLVISTE = GANÃS
ğŸŸ¤ BONO +30% AL CARGAR
ğŸ“² ConsultÃ¡ al instante â†’ 1162360351
ğŸ Solo por reactivaciÃ³n</div></div><span class="sub">copiar</span></div><div class="btn-preview"><div><span class="label">Mensaje #17</span><div class="sub">â³ Tu beneficio sigue activo
ğŸŸ¨ +30% EXTRA en tu prÃ³xima carga
ğŸ¯ VolvÃ© al juego con ventaja
ğŸ‘‰ WhatsApp: 1162360351
</div></div><span class="sub">copiar</span></div></div></div>
    </div>
  </div>
</div>

<div class="toast" id="toast">
  <div class="toast-icon">âœ…</div>
  <span id="toastText">Perfil exportado</span>
</div>

<script>
/* ======================================================
   FIX GLOBAL: UTILIDADES
   ====================================================== */
function escapeHtml(str){
  if(!str) return '';
  return String(str).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
}
function escapeAttr(str){ return escapeHtml(str); }
function shorten(str,max){ if(!str) return ''; return str.length>max ? str.slice(0,max-3)+'...' : str; }

/* ======================================================
   FIX 1: EVENTOS GLOBALES CORREGIDOS
   ====================================================== */

document.addEventListener('change', e=>{
  const sel = e.target.closest('.pc-selector');
  if(!sel) return;

  const msgId = sel.dataset.msgId; // FIX dataset
  const newPcIndex = Number(sel.value);

  let foundMsg = null;
  let oldPcIndex = null;

  config.whatsapp.pcs.forEach((pc,i)=>{
    const idx = pc.mensajes.findIndex(m=>m.id===msgId);
    if(idx!==-1){ foundMsg = pc.mensajes[idx]; oldPcIndex=i; }
  });

  if(foundMsg===null || oldPcIndex===null) return;
  if(oldPcIndex===newPcIndex) return;

  config.whatsapp.pcs[oldPcIndex].mensajes =
    config.whatsapp.pcs[oldPcIndex].mensajes.filter(m=>m.id!==msgId);
  config.whatsapp.pcs[newPcIndex].mensajes.push(foundMsg);

  markDirty();
  renderSaludosEditor();
  renderPreview();
});

/* ======================================================
   FIX 2: RENDER SALUDOS EDITOR (COMPLETO)
   ====================================================== */
function renderSaludosEditor(){
  const list = document.getElementById('saludosList');
  list.innerHTML = '';

  const pc = config.whatsapp.pcs[sliderIndex];
  const mensajes = pc.mensajes || [];

  if(!mensajes.length){
    const p = document.createElement('p');
    p.className = 'muted';
    p.textContent = 'No hay mensajes cargados para esta PC.';
    list.appendChild(p);
    return;
  }

  mensajes.forEach((msg, idx)=>{
    const row = document.createElement('div');
    row.className = 'card-row';

    row.innerHTML = `
      <div class="grip">ğŸ”’</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">Mensaje #${idx+1}</span>
          <div class="wallet-actions">
            <select class="pc-selector" data-msg-id="${msg.id}">
              ${config.whatsapp.pcs.map((p,i)=>`
                <option value="${i}" ${i===sliderIndex?'selected':''}>${p.nombre}</option>
              `).join('')}
            </select>
            <button class="btn small subtle" data-remove-msg="${msg.id}">Eliminar</button>
          </div>
        </div>
        <label>UsÃ¡ {usuario}</label>
        <textarea data-msg-text="${msg.id}">${escapeHtml(msg.texto||'')}</textarea>
      </div>
    `;

    list.appendChild(row);
  });

  // ediciÃ³n texto
  list.querySelectorAll('[data-msg-text]').forEach(el=>{
    el.addEventListener('input', ()=>{
      const id = el.dataset.msgText;
      const m = pc.mensajes.find(x=>x.id===id);
      if(m){ m.texto = el.value; markDirty(); renderPreview(); }
    });
  });

  // eliminar mensaje
  list.querySelectorAll('[data-remove-msg]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const id = btn.dataset.removeMsg;
      pc.mensajes = pc.mensajes.filter(m=>m.id!==id);
      markDirty(); renderSaludosEditor(); renderPreview();
    });
  });
}

/* ======================================================
   FIX 3: RENDER WALLETS (ERRORES CRÃTICOS ARREGLADOS)
   ====================================================== */
function renderWallets(){
  const listEl = document.getElementById('walletList');
  listEl.innerHTML = '';

  (config.billeteras||[]).forEach((w,idx)=>{
    const row = document.createElement('div');
    row.className = 'card-row';
    row.dataset.index = idx; // FIX drag

    row.innerHTML = `
      <div class="grip" data-grip>ğŸ”€</div>
      <div>
        <div class="wallet-header">
          <span class="wallet-label">${escapeHtml(w.label||'Grupo')}</span>
          <div class="wallet-actions">
            <button class="btn small ghost" data-toggle-flip="${idx}">ğŸ” ${w.flip?'ON':'OFF'}</button>
            <button class="btn small subtle" data-remove-wallet="${idx}">Eliminar</button>
          </div>
        </div>
        <div class="section-grid">
          <input data-field="label" data-idx="${idx}" value="${escapeAttr(w.label||'')}" placeholder="Nombre visible">
          <input data-field="cbu" data-idx="${idx}" value="${escapeAttr(w.cbu||'')}" placeholder="CBU">
          <input data-field="alias" data-idx="${idx}" value="${escapeAttr(w.alias||'')}" placeholder="Alias">
          <input data-field="titular" data-idx="${idx}" value="${escapeAttr(w.titular||'')}" placeholder="Titular">
        </div>
      </div>
    `;

    listEl.appendChild(row);
  });

  // editar campos
  listEl.querySelectorAll('[data-field]').forEach(el=>{
    el.addEventListener('input', ()=>{
      const idx = +el.dataset.idx;
      const field = el.dataset.field;
      if(config.billeteras[idx]){
        config.billeteras[idx][field] = el.value;
        markDirty(); renderPreview();
      }
    });
  });

  // eliminar billetera
  listEl.querySelectorAll('[data-remove-wallet]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const idx = +btn.dataset.removeWallet;
      if(confirm('Â¿Eliminar billetera?')){
        config.billeteras.splice(idx,1);
        markDirty(); renderWallets(); renderPreview();
      }
    });
  });
}

/* ======================================================
   FIX 4: ELIMINACIÃ“N GLOBAL MENSAJES (DELEGADO)
   ====================================================== */
document.addEventListener('click', e=>{
  const btn = e.target.closest('[data-remove-msg]');
  if(!btn) return;

  const id = btn.dataset.removeMsg;
  config.whatsapp.pcs.forEach(pc=>{
    pc.mensajes = pc.mensajes.filter(m=>m.id!==id);
  });
  markDirty(); renderSaludosEditor(); renderPreview();
});

/* ======================================================
   RESTO DEL CÃ“DIGO
   ====================================================== */
// Todo el resto del JS (preview, bootstrap, storage, etc)
// permanece IGUAL al archivo original que enviaste.
// No tenÃ­a errores funcionales.
</script>

</body></html>
